<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookReview ERD ì„¤ê³„ì„œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        .erd-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .table-box {
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            margin: 20px;
            display: inline-block;
            vertical-align: top;
            min-width: 280px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .table-header {
            background: #667eea;
            color: white;
            padding: 15px;
            font-weight: bold;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .table-fields {
            padding: 0;
        }
        
        .field-row {
            display: flex;
            padding: 12px 15px;
            border-bottom: 1px solid #e1e8ed;
            align-items: center;
        }
        
        .field-row:last-child {
            border-bottom: none;
        }
        
        .field-name {
            flex: 1;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .field-type {
            color: #667eea;
            font-size: 0.9em;
            margin-right: 10px;
        }
        
        .field-constraint {
            background: #e3f2fd;
            color: #1976d2;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.8em;
        }
        
        .primary-key {
            background: #ffecb3;
            color: #f57c00;
        }
        
        .foreign-key {
            background: #f3e5f5;
            color: #7b1fa2;
        }
        
        .not-null {
            background: #ffcdd2;
            color: #c62828;
        }
        
        .relationship-line {
            stroke: #667eea;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }
        
        .relationship-text {
            font-size: 12px;
            fill: #555;
            text-anchor: middle;
        }
        
        .entity-diagram {
            text-align: center;
            margin: 40px 0;
        }
        
        .relationship-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .relationship-table th,
        .relationship-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e1e8ed;
        }
        
        .relationship-table th {
            background: #f8f9fa;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .cardinality {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        
        .business-rules {
            background: #fff3e0;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #ff9800;
            margin: 20px 0;
        }
        
        .business-rules h4 {
            color: #e65100;
            margin-bottom: 10px;
        }
        
        .rules-list {
            list-style: none;
            padding: 0;
        }
        
        .rules-list li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .rules-list li:before {
            content: "ğŸ”¸";
        }
        
        @media (max-width: 768px) {
            .table-box {
                display: block;
                margin: 10px 0;
                min-width: 100%;
            }
            
            .erd-container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ BookReview ERD ì„¤ê³„ì„œ</h1>
            <div class="subtitle">Entity Relationship Diagram & Database Design</div>
        </div>
        
        <div class="section">
            <h2>ğŸ“Š ê°œìš”</h2>
            <div class="business-rules">
                <h4>ğŸ“‹ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­</h4>
                <ul class="rules-list">
                    <li>ì‚¬ìš©ìë“¤ì´ íšŒì›ê°€ì… í›„ ë„ì„œì— ëŒ€í•œ ë¦¬ë·°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì–´ì•¼ í•¨</li>
                    <li>ë„ì„œëŠ” ì œëª©, ì €ì, ì¶œíŒì‚¬, ì¥ë¥´, ì¶œê°„ì¼ ë“±ì˜ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•¨</li>
                    <li>ë¦¬ë·°ëŠ” ë³„ì (1-5), ë‚´ìš©, ì¶”ì²œì—¬ë¶€ë¥¼ í¬í•¨í•´ì•¼ í•¨</li>
                    <li>í•œ ì‚¬ìš©ìëŠ” í•˜ë‚˜ì˜ ë„ì„œì— í•˜ë‚˜ì˜ ë¦¬ë·°ë§Œ ì‘ì„± ê°€ëŠ¥</li>
                    <li>ë„ì„œë³„ í‰ê·  í‰ì ê³¼ ë¦¬ë·° ìˆ˜ë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆì–´ì•¼ í•¨</li>
                </ul>
            </div>
            
            <p style="margin-top: 20px; color: #555; line-height: 1.8;">
                BookReview ì‹œìŠ¤í…œì€ <strong>ì‚¬ìš©ì(Users)</strong>, <strong>ë„ì„œ(Books)</strong>, <strong>ë¦¬ë·°(Reviews)</strong> 
                ì„¸ ê°œì˜ ì£¼ìš” ì—”í„°í‹°ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì´ë“¤ ê°„ì˜ ê´€ê³„ëŠ” ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ë¦¬ë·° í…Œì´ë¸”ì„ í†µí•´ 
                ì¼ëŒ€ë‹¤ ê´€ê³„ë¡œ í•´ê²°í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.
            </p>
        </div>
        
        <div class="section">
            <h2>ğŸ—„ï¸ ERD ë‹¤ì´ì–´ê·¸ë¨</h2>
            <div class="erd-container">
                <!-- Users Table -->
                <div class="table-box">
                    <div class="table-header">
                        <span>ğŸ‘¤</span> Users (ì‚¬ìš©ì)
                    </div>
                    <div class="table-fields">
                        <div class="field-row">
                            <div class="field-name">id</div>
                            <div class="field-type">VARCHAR(36)</div>
                            <div class="field-constraint primary-key">PK</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">username</div>
                            <div class="field-type">VARCHAR(50)</div>
                            <div class="field-constraint not-null">NOT NULL</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">email</div>
                            <div class="field-type">VARCHAR(100)</div>
                            <div class="field-constraint not-null">UNIQUE</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">password</div>
                            <div class="field-type">VARCHAR(255)</div>
                            <div class="field-constraint not-null">NOT NULL</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">joinDate</div>
                            <div class="field-type">DATETIME</div>
                            <div class="field-constraint">DEFAULT NOW</div>
                        </div>
                    </div>
                </div>
                
                <!-- Books Table -->
                <div class="table-box">
                    <div class="table-header">
                        <span>ğŸ“š</span> Books (ë„ì„œ)
                    </div>
                    <div class="table-fields">
                        <div class="field-row">
                            <div class="field-name">id</div>
                            <div class="field-type">VARCHAR(36)</div>
                            <div class="field-constraint primary-key">PK</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">title</div>
                            <div class="field-type">VARCHAR(200)</div>
                            <div class="field-constraint not-null">NOT NULL</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">author</div>
                            <div class="field-type">VARCHAR(100)</div>
                            <div class="field-constraint not-null">NOT NULL</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">publisher</div>
                            <div class="field-type">VARCHAR(100)</div>
                            <div class="field-constraint">NULL</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">genre</div>
                            <div class="field-type">VARCHAR(50)</div>
                            <div class="field-constraint">NULL</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">publishDate</div>
                            <div class="field-type">DATE</div>
                            <div class="field-constraint">NULL</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">description</div>
                            <div class="field-type">TEXT</div>
                            <div class="field-constraint">NULL</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">addedBy</div>
                            <div class="field-type">VARCHAR(36)</div>
                            <div class="field-constraint foreign-key">FK</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">addedDate</div>
                            <div class="field-type">DATETIME</div>
                            <div class="field-constraint">DEFAULT NOW</div>
                        </div>
                    </div>
                </div>
                
                <!-- Reviews Table -->
                <div class="table-box">
                    <div class="table-header">
                        <span>â­</span> Reviews (ë¦¬ë·°)
                    </div>
                    <div class="table-fields">
                        <div class="field-row">
                            <div class="field-name">id</div>
                            <div class="field-type">VARCHAR(36)</div>
                            <div class="field-constraint primary-key">PK</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">userId</div>
                            <div class="field-type">VARCHAR(36)</div>
                            <div class="field-constraint foreign-key">FK</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">bookId</div>
                            <div class="field-type">VARCHAR(36)</div>
                            <div class="field-constraint foreign-key">FK</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">rating</div>
                            <div class="field-type">INT</div>
                            <div class="field-constraint not-null">1-5</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">content</div>
                            <div class="field-type">TEXT</div>
                            <div class="field-constraint not-null">NOT NULL</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">isRecommended</div>
                            <div class="field-type">BOOLEAN</div>
                            <div class="field-constraint">DEFAULT false</div>
                        </div>
                        <div class="field-row">
                            <div class="field-name">reviewDate</div>
                            <div class="field-type">DATETIME</div>
                            <div class="field-constraint">DEFAULT NOW</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ”— í…Œì´ë¸” ê´€ê³„</h2>
            <table class="relationship-table">
                <thead>
                    <tr>
                        <th>ê´€ê³„</th>
                        <th>ë¶€ëª¨ í…Œì´ë¸”</th>
                        <th>ìì‹ í…Œì´ë¸”</th>
                        <th>ì¹´ë””ë„ë¦¬í‹°</th>
                        <th>ê´€ê³„ ì„¤ëª…</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>User â†’ Books</td>
                        <td>Users</td>
                        <td>Books</td>
                        <td><span class="cardinality">1 : N</span></td>
                        <td>í•œ ì‚¬ìš©ìëŠ” ì—¬ëŸ¬ ë„ì„œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŒ</td>
                    </tr>
                    <tr>
                        <td>User â†’ Reviews</td>
                        <td>Users</td>
                        <td>Reviews</td>
                        <td><span class="cardinality">1 : N</span></td>
                        <td>í•œ ì‚¬ìš©ìëŠ” ì—¬ëŸ¬ ë¦¬ë·°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŒ</td>
                    </tr>
                    <tr>
                        <td>Books â†’ Reviews</td>
                        <td>Books</td>
                        <td>Reviews</td>
                        <td><span class="cardinality">1 : N</span></td>
                        <td>í•œ ë„ì„œëŠ” ì—¬ëŸ¬ ë¦¬ë·°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="section">
            <h2>ğŸ“ ì œì•½ì¡°ê±´ ë° ì¸ë±ìŠ¤</h2>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">ğŸ” Primary Keys</h3>
            <ul style="list-style: none; padding-left: 20px;">
                <li style="padding: 5px 0;">âœ… <strong>Users.id</strong> - UUID í˜•íƒœì˜ ê³ ìœ  ì‚¬ìš©ì ì‹ë³„ì</li>
                <li style="padding: 5px 0;">âœ… <strong>Books.id</strong> - UUID í˜•íƒœì˜ ê³ ìœ  ë„ì„œ ì‹ë³„ì</li>
                <li style="padding: 5px 0;">âœ… <strong>Reviews.id</strong> - UUID í˜•íƒœì˜ ê³ ìœ  ë¦¬ë·° ì‹ë³„ì</li>
            </ul>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">ğŸ”— Foreign Keys</h3>
            <ul style="list-style: none; padding-left: 20px;">
                <li style="padding: 5px 0;">ğŸ”¸ <strong>Books.addedBy</strong> â†’ Users.id (ë„ì„œ ì¶”ê°€ì)</li>
                <li style="padding: 5px 0;">ğŸ”¸ <strong>Reviews.userId</strong> â†’ Users.id (ë¦¬ë·° ì‘ì„±ì)</li>
                <li style="padding: 5px 0;">ğŸ”¸ <strong>Reviews.bookId</strong> â†’ Books.id (ë¦¬ë·° ëŒ€ìƒ ë„ì„œ)</li>
            </ul>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">ğŸš« Unique Constraints</h3>
            <ul style="list-style: none; padding-left: 20px;">
                <li style="padding: 5px 0;">âš¡ <strong>Users.email</strong> - ì´ë©”ì¼ ì¤‘ë³µ ë°©ì§€</li>
                <li style="padding: 5px 0;">âš¡ <strong>Reviews(userId, bookId)</strong> - í•œ ì‚¬ìš©ìë‹¹ ë„ì„œ 1ê°œ ë¦¬ë·°</li>
            </ul>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">âœ… Check Constraints</h3>
            <ul style="list-style: none; padding-left: 20px;">
                <li style="padding: 5px 0;">ğŸ“Š <strong>Reviews.rating</strong> BETWEEN 1 AND 5</li>
                <li style="padding: 5px 0;">ğŸ“ <strong>Users.username</strong> LENGTH >= 3</li>
                <li style="padding: 5px 0;">ğŸ“§ <strong>Users.email</strong> LIKE '%@%'</li>
            </ul>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">âš¡ Indexes</h3>
            <ul style="list-style: none; padding-left: 20px;">
                <li style="padding: 5px 0;">ğŸ” <strong>idx_books_title</strong> - ë„ì„œ ì œëª© ê²€ìƒ‰ ìµœì í™”</li>
                <li style="padding: 5px 0;">ğŸ” <strong>idx_books_author</strong> - ì €ìë³„ ê²€ìƒ‰ ìµœì í™”</li>
                <li style="padding: 5px 0;">ğŸ” <strong>idx_books_genre</strong> - ì¥ë¥´ë³„ í•„í„°ë§ ìµœì í™”</li>
                <li style="padding: 5px 0;">ğŸ” <strong>idx_reviews_book</strong> - ë„ì„œë³„ ë¦¬ë·° ì¡°íšŒ ìµœì í™”</li>
                <li style="padding: 5px 0;">ğŸ” <strong>idx_reviews_user</strong> - ì‚¬ìš©ìë³„ ë¦¬ë·° ì¡°íšŒ ìµœì í™”</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>ğŸ’¡ ì„¤ê³„ ê²°ì •ì‚¬í•­</h2>
            
            <div style="background: #e8f5e8; padding: 20px; border-radius: 8px; border-left: 4px solid #4caf50; margin-bottom: 15px;">
                <h4 style="color: #2e7d32; margin-bottom: 10px;">âœ… UUID ì‚¬ìš©</h4>
                <p>ëª¨ë“  Primary Keyì— UUIDë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ê³ ìœ ì„±ì„ ë³´ì¥í•˜ê³  ë³´ì•ˆì„ ê°•í™”í–ˆìŠµë‹ˆë‹¤.</p>
            </div>
            
            <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; border-left: 4px solid #2196f3; margin-bottom: 15px;">
                <h4 style="color: #1976d2; margin-bottom: 10px;">ğŸ“Š ì •ê·œí™”</h4>
                <p>3NF(ì œ3ì •ê·œí˜•)ì„ ì¤€ìˆ˜í•˜ì—¬ ë°ì´í„° ì¤‘ë³µì„ ìµœì†Œí™”í•˜ê³  ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¥í–ˆìŠµë‹ˆë‹¤.</p>
            </div>
            
            <div style="background: #fff3e0; padding: 20px; border-radius: 8px; border-left: 4px solid #ff9800; margin-bottom: 15px;">
                <h4 style="color: #e65100; margin-bottom: 10px;">âš¡ ì„±ëŠ¥ ê³ ë ¤</h4>
                <p>ìì£¼ ê²€ìƒ‰ë˜ëŠ” ì»¬ëŸ¼(title, author, genre)ì— ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ì—¬ ì¿¼ë¦¬ ì„±ëŠ¥ì„ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.</p>
            </div>
            
            <div style="background: #fce4ec; padding: 20px; border-radius: 8px; border-left: 4px solid #e91e63; margin-bottom: 15px;">
                <h4 style="color: #c2185b; margin-bottom: 10px;">ğŸ”’ ë°ì´í„° ë¬´ê²°ì„±</h4>
                <p>ì ì ˆí•œ ì œì•½ì¡°ê±´ì„ í†µí•´ ì˜ëª»ëœ ë°ì´í„° ì…ë ¥ì„ ë°©ì§€í•˜ê³  ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ê°•ì œí–ˆìŠµë‹ˆë‹¤.</p>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ¯ í–¥í›„ í™•ì¥ ê³„íš</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div style="background: #f3e5f5; padding: 20px; border-radius: 10px;">
                    <h4 style="color: #7b1fa2;">ğŸ“‚ Categories í…Œì´ë¸”</h4>
                    <p>ë„ì„œ ì¥ë¥´ë¥¼ ë³„ë„ í…Œì´ë¸”ë¡œ ë¶„ë¦¬í•˜ì—¬ ê³„ì¸µì  ë¶„ë¥˜ ì§€ì›</p>
                </div>
                <div style="background: #e0f2f1; padding: 20px; border-radius: 10px;">
                    <h4 style="color: #00695c;">ğŸ‘¥ Follows í…Œì´ë¸”</h4>
                    <p>ì‚¬ìš©ì ê°„ íŒ”ë¡œìš° ê´€ê³„ë¥¼ ìœ„í•œ ë‹¤ëŒ€ë‹¤ ê´€ê³„ í…Œì´ë¸”</p>
                </div>
                <div style="background: #fff8e1; padding: 20px; border-radius: 10px;">
                    <h4 style="color: #f57c00;">ğŸ’¬ Comments í…Œì´ë¸”</h4>
                    <p>ë¦¬ë·°ì— ëŒ€í•œ ëŒ“ê¸€ ê¸°ëŠ¥ì„ ìœ„í•œ í…Œì´ë¸”</p>
                </div>
                <div style="background: #ffebee; padding: 20px; border-radius: 10px;">
                    <h4 style="color: #c62828;">ğŸ‘ Likes í…Œì´ë¸”</h4>
                    <p>ë¦¬ë·° ì¢‹ì•„ìš” ê¸°ëŠ¥ì„ ìœ„í•œ í…Œì´ë¸”</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>